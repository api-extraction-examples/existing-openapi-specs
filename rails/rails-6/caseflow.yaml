openapi: 3.0.0
info:
  title: Decision Reviews, AMA Reviews, VACOLS Issues
  description: >+
    The Decision Reviews API allows you to interact with a veteran’s Decision Reviews. This API provides a secure and efficient alternative to paper or fax document submissions. Veterans Benefits Administration or Board of Veterans Appeals can begin processing Decision Review requests submitted through this API immediately, which ultimately allows VA to provide Veterans with appeal decisions more quickly.


    For more information on the Decision Review process, including the different types of Decision Reviews, please see [this informative page on VA.gov](https://www.va.gov/decision-reviews/).


    The Decision Reviews API supports the Appeals Modernization Act (AMA) process only. Appeals going through the legacy Appeal process cannot be managed through this API. Learn more about the AMA [here](https://benefits.va.gov/benefits/appeals.asp).

    ## Technical Summary

    The Decision Reviews API interacts with VA's internal system, called Caseflow, that manages all benefit appeals. Caseflow is the authoritative source for all Decision Review information.

    * The Decision Reviews API accepts a JSON payload and the participant identification is supplied as a header.

    * The Decision Review request will be validated to ensure the Veteran information matches VA records and that the appeal information sent is valid.

    * Detailed error messages will be returned to help your application provide meaningful information to the Veteran attempting to make the Decision Review request.

    ## Authorization

    API requests are authorized through a token, provided in an HTTP header.
    Example _curl_ (assuming you're running Caseflow locally, and the `api_v3` feature toggle has been enabled):

    ```
     curl -v POST http://localhost:3000/api/v3/decision_reviews/higher_level_reviews /
     -d {{json}} -i -H "Content-Type: application/json" /
     -H "Authorization: Token token={{yourApiKeyHere}}"
    ```
    
    The AMA Request Issues API allows you to interact with a veteran’s AMA Request Issues. This API provides all AMA related Request Issues and related Decision Issues per Veteran particpant ID.


    For more information on the AMA Request Issue process, including the different types of AMA Request Issues, please see [this informative page on VA.gov](https://www.va.gov/decision-reviews/).


    The AMA Request Issues API supports the Appeals Modernization Act (AMA) process only.

    ## Technical Summary

    The AMA Request Issues API interacts with VA's internal system, called Caseflow, that manages all benefit appeals.

    * The AMA Request Issues API accepts the veteran participant identification is supplied in the URL.

    * The AMA Request Issue request will be validated to ensure the Veteran information matches VA records and that the appeal information sent is valid.

    * Detailed error messages will be returned to help your application provide meaningful information to the Veteran attempting to make the AMA Request Issue request.

    * The Request Issues are paginated in the response. The page paramenter must be a integer greater than or equal to 1. 0 and negative numbers are defaulted to page 1.

    ## Authorization

    API requests are authorized through a token, provided in an HTTP header.
    Example _curl_ (assuming you're running Caseflow locally, and the `api_v3` feature toggle has been enabled):

    ```
     curl -v -H 'Authorization: Token {{YourApiKeyHere}}'\
    'http://localhost:3000/api/v3/issues/ama/find_by_veteran/{{VeteranParticipantId}}?page=2'

    ```

    The VACOLS Issues API allows you to interact with a veteran’s VACOLS Issues. This API provides all VACOLS Issues per Veteran File Number.


    For more information on the Legacy Appeal process, including Legacy Issues, please see [this informative page on VA.gov](https://www.va.gov/decision-reviews/legacy-appeals/).



    ## Technical Summary

    The VACOLS Issues API interacts with VA's internal system, called Caseflow, that manages all benefit appeals.

    * The VACOLS API accepts the veteran file number identification that is supplied in the request header.

    * The VACOLS Issue request will be validated to ensure the Veteran information matches VA records and that the appeal information sent is valid.

    * Detailed error messages will be returned to help your application provide meaningful information to the Veteran attempting to make the VACOLS Issue request.

    * The VACOLS Issues are paginated in the response. The page paramenter must be a integer greater than or equal to 1. 0 and negative numbers are defaulted to page 1.

    ## Authorization

    API requests are authorized through a token, provided in an HTTP header.
    Example _curl_ (assuming you're running Caseflow locally, and the `api_v3` feature toggle has been enabled):

    ```
     curl -v -H 'Authorization: Token {{YourApiKeyHere}}'\
    'http://localhost:3000/api/v3/issues/vacols/find_by_veteran/?page=2'

    ```

  version: 3.0.0
security:
  - bearerAuth: []
paths:
  "/api/v2/appeals":
    get:
      summary: list appeals
      responses:
        '200':
          description: successful
  /api/v3/decision_reviews/higher_level_reviews:
    post:
      tags:
        - Higher-Level Reviews
      summary: Creates a Higher-Level Review
      description: >+
        This endpoint will submit a Decision Review request of type Higher-Level Review.  This endpoint is analogous to submitting VA For 20-0996 via mail or fax.

        ### Asynchronous processing

        The Decision Reviews API leverages a pattern recommended by JSON API for asynchronous processing (more information [here](https://jsonapi.org/recommendations/#asynchronous-processing)).  Submitting a Decision Review is an asynchronous process due to the multiple systems that are involved.  Because of this, when a new Decision Review is submitted, the POST endpoint will return a 202 `accepted` response including an Intake UUID.  That Intake UUID is associated with the submission and can be used as an identifier for the Intake Status endpoint.  While the submission is processing the Intake Status endpoint will return a 200 response.  Once the asynchronous process is complete and the Decision Review is submitted into Caseflow, the Intake Status endpoint will return a 303 response including the Decision Review ID for the submitted Decision Review, which will allow you to retrieve the full details including the processing status.
      requestBody:
        required: true
        content:
          application/vnd.api+json:
            schema:
              type: object
              required:
                - data
                # included (NOT required)
              properties:
                data:
                  type: object
                  required:
                    - type
                    - attributes
                    - relationships
                  properties:
                    type:
                      type: string
                      enum: [HigherLevelReview]
                    attributes:
                      type: object
                      required:
                        - receiptDate
                        - informalConference
                        - sameOffice
                        - legacyOptInApproved
                        - benefitType
                        - veteran
                      properties:
                        receiptDate:
                          type: string
                          format: date
                        informalConference:
                          type: boolean
                          description: Corresponds to "14. ...REQUEST AN INFORMAL CONFERENCE..." on form 20-0996.

                        informalConferenceTimes:
                          type: array
                          description: >-
                            OPTIONAL. Time slot preference for informal conference (if being requested). EASTERN TIME. Pick up to two time slots (or none if no preference).
                            Corresponds to "14. ...REQUEST AN INFORMAL CONFERENCE..." on form 20-0996.

                          items:
                            type: string
                            enum: ["800-1000", "1000-1230", "1230-200", "200-430"]

                        informalConferenceRep:
                          type: object
                          description: >-
                            OPTIONAL. The veteran's preferred representative for informal conference (if being requested).
                            Corresponds to "14. ...REQUEST AN INFORMAL CONFERENCE..." on form 20-0996.

                          properties:
                            name:
                              type: string
                              description: Representative's name.

                            phoneNumber:
                              type: string
                              pattern: '^[0-9]+$'
                              description: >-
                                Representative's phone number.
                                Example: "8446982311".
                                Format: Include only digit characters. Include area code.

                            phoneNumberCountryCode:
                              type: string
                              pattern: '^[0-9]+$'
                              description: >-
                                Representative's phone number country code.
                                If not specified, will assume "1".
                                Example: "20".
                                Format: Include only digit characters.

                            phoneNumberExt:
                              type: string
                              description: >-
                                Representative's phone number extension (if needed).
                                Example: "123".

                        sameOffice:
                          type: boolean
                        legacyOptInApproved:
                          type: boolean
                        benefitType:
                          $ref: "#/components/schemas/BenefitType"
                        veteran:
                          type: object
                          description: The veteran whom this Higher-Level Review concerns.
                          required:
                            - ssn
                          properties:
                            ssn:
                              type: string
                              pattern: '^[0-9]{9}$'
                              description: >-
                                The veteran's SSN.
                                Example: "123456789"
                                Format: 9 digit characters.
                                Corresponds to "2. VETERAN'S SOCIAL SECURITY NUMBER" on form 20-0996.
                        claimant:
                          type: object
                          required:
                            - participantId
                            - payeeCode
                          properties:
                            participantId:
                              type: string
                            payeeCode:
                              $ref: "#/components/schemas/PayeeCode"
                included:
                  type: array
                  description: ContestableIssues Array
                  items:
                    type: object
                    description: >-
                      Use the `/contestable_issues` endpoint to pull a list of
                      a veteran's contestable issues to select from, and include
                      the _ContestableIssue_ objects that you want to contest in this
                      array.
                    required:
                      - type
                      - attributes
                    properties:
                      type:
                        type: string
                        enum: [ContestableIssue]
                      attributes:
                        type: object
                        properties:
                          decisionIssueId:
                            type: integer
                            nullable: true
                          ratingIssueReferenceId:
                            type: string
                            nullable: true
                          ratingDecisionReferenceId:
                            type: string
                            nullable: true
            examples:
              compensation:
                value:
                  data:
                    type: HigherLevelReview
                    attributes:
                      receiptDate: "2019-07-10"
                      informalConference: true
                      sameOffice: false
                      legacyOptInApproved: true
                      benefitType: compensation
                      veteran:
                        ssn: "123456789"
                      claimant:
                        participantId: "44444444"
                        payeeCode: "10"
                  included:
                    - type: ContestableIssue
                      attributes:
                        decisionIssueId: 205
      responses:
        '202':
          description: Accepted
          headers:
            Content-Location:
              schema:
                type: string
                format: url
              description: Link to check status of intake for HigherLevelReview
          content:
            application/vnd.api+json:
              schema:
                $ref: "#/components/schemas/IntakeStatus"
        '4XX':
          description: Invalid Request
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
        '400':
          description: |-
            400 response
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                malformed_request:
                  value: {
                    "errors": [
                      {
                        "status": "400",
                        "title":  "Malformed request",
                        "code":  "malformed_request"
                      }
                    ]
                  }
        '403':
          description: |-
            403 response
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                veteran_not_accessible:
                  value: {
                    "errors": [
                      {
                        "status": "403",
                        "title":  "You don't have permission to view this veteran's information",
                        "code":  "veteran_not_accessible"
                      }
                    ]
                  }
        '404':
          description: |-
            404 response
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                veteran_not_found:
                  value: {
                    "errors": [
                      {
                        "status": "404",
                        "title":  "Veteran not found",
                        "code":  "veteran_not_found"
                      }
                    ]
                  }
        '409':
          description: |-
            409 response
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                duplicate_intake_in_progress:
                  value: {
                    "errors": [
                      {
                        "status": "409",
                        "title":  "Intake in progress",
                        "code":  "duplicate_intake_in_progress"
                      }
                    ]
                  }
        '422':
          description: |-
            422 response
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                incident_flash:
                  value: {
                    "errors": [
                      {
                        "status": "422",
                        "title": "The veteran has an incident flash",
                        "code": "incident_flash"
                      }
                    ]
                  }
                invalid_benefit_type:
                  value: {
                    "errors": [
                      {
                        "status": "422",
                        "title": "That Line of Business (benefit type) is either invalid or not currently supported",
                        "code": "invalid_benefit_type"
                      }
                    ]
                  }
                invalid_file_number:
                  value: {
                    "errors": [
                      {
                        "status": "422",
                        "title": "Veteran ID not found",
                        "code": "invalid_file_number"
                      }
                    ]
                  }
                malformed_contestable_issues:
                  value: {
                    "errors": [
                      {
                        "status": "422",
                        "title": "Malformed ContestableIssues",
                        "code": "malformed_contestable_issues"
                      }
                    ]
                  }
                contestable_issue_params_must_have_ids:
                  value: {
                    "errors": [
                      {
                        "status": "422",
                        "title": "A contestable issue must have at least one of the following: decisionIssueId, ratingIssueReferenceId, ratingDecisionReferenceId",
                        "code": "contestable_issue_params_must_have_ids"
                      }
                    ]
                  }
                could_not_find_contestable_issue:
                  value: {
                    "errors": [
                      {
                        "status": "422",
                        "title": "Could not find ContestableIssue",
                        "code": "could_not_find_contestable_issue"
                      }
                    ]
                  }
                veteran_has_multiple_phone_numbers:
                  value: {
                    "errors": [
                      {
                        "status": "422",
                        "title": "The veteran has multiple active phone numbers",
                        "code": "veteran_has_multiple_phone_numbers"
                      }
                    ]
                  }
                veteran_not_modifiable:
                  value: {
                    "errors": [
                      {
                        "status": "422",
                        "title": "You don't have permission to intake this veteran",
                        "code": "veteran_not_modifiable"
                      }
                    ]
                  }
                veteran_not_valid:
                  value: {
                    "errors": [
                      {
                        "status": "422",
                        "title": "The veteran's profile has missing or invalid information required to create an EP",
                        "code": "veteran_not_valid"
                      }
                    ]
                  }
        '5XX':
          description: Failed
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                intake_review_failed:
                  value: {
                    "errors": [
                      {
                        "status": "500",
                        "title": "The review step of processing the intake failed for an unknown reason",
                        "code": "intake_review_failed"
                      }
                    ]
                  }
                intake_start_failed:
                  value: {
                    "errors": [
                      {
                        "status": "500",
                        "title": "The start step of processing the intake failed for an unknown reason",
                        "code": "intake_start_failed"
                      }
                    ]
                  }
                reserved_veteran_file_number:
                  value: {
                    "errors": [
                      {
                        "status": "500",
                        "title": "Invalid veteran file number",
                        "code": "reserved_veteran_file_number"
                      }
                    ]
                  }
                unknown_error:
                  value: {
                    "errors": [
                      {
                        "status": "500",
                        "title":  "Unknown error",
                        "code":  "unknown_error"
                      }
                    ]
                  }
  /api/v3/decision_reviews/intake_statuses/{uuid}:
    get:
      tags:
        - Higher-Level Reviews
      parameters:
        - name: uuid
          in: path
          required: true
          description: Decision Review UUID
          example: cc165d4f-1e16-4bcf-9134-4f864c121c97
          schema:
            $ref: "#/components/schemas/Uuid"
      summary: Check a Decision Review's (Higher-Level Review, Supplemental Claim, Board Appeal) intake status.
      description: >+
        After creating a Decision Review, you can use this endpoint to check its _intake status_—whether or not a Decision Review has been processed in the Caseflow system.


        **A Decision Review is not immediately accessible after creation.** Intake involves communicating with several systems/databases asynchronously. Consequently, a new Decision Review isn't available for API interaction immediately after creation.


        _Check a Decision Review's intake status to know when it has become accessible, and also its location for further actions._


        * **Before a Decision Review is successfully processed:** This endpoint will return `200 OK` and a JSON payload describing the status in more detail.


        * **Once processing is complete:** this endpoint will return a `303 see other` and a Location header containing the URL of the processed, and now accessible, Decision Review. You can use that URL to get the Decision Review and retrieve its full details.
      responses:
        '200':
          description: Processing incomplete
          content:
            application/vnd.api+json:
              schema:
                $ref: "#/components/schemas/IntakeStatus"
              examples:
                not_yet_submitted:
                  value:
                    data:
                      id: 123e4567-e89b-12d3-a456-426655440000
                      type: IntakeStatus
                      attributes:
                        status: not_yet_submitted
                submitted:
                  value:
                    data:
                      id: 123e4567-e89b-12d3-a456-426655440000
                      type: IntakeStatus
                      attributes:
                        status: submitted
                attempted:
                  value:
                    data:
                      id: 123e4567-e89b-12d3-a456-426655440000
                      type: IntakeStatus
                      attributes:
                        status: attempted
                canceled:
                  value:
                    data:
                      id: 123e4567-e89b-12d3-a456-426655440000
                      type: IntakeStatus
                      attributes:
                        status: canceled
        '303':
          description: Processing complete; See other
          headers:
            Location:
              schema:
                type: string
                format: url
              description: Link to DecisionReview
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      Location:
                        $ref: "#/components/schemas/Uuid"
              examples:
                processed:
                  value:
                    meta:
                      Location: 123e4567-e89b-12d3-a456-426655440000
        '404':
          description: Decision Review not found
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                bad UUID:
                  value:
                    errors:
                      status: 404,
                      code: decision_review_not_found
                      title: "Unable to find a Decision Review using specified UUID"
        '500':
          description: Unknown error
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                unknown error:
                  value:
                    errors:
                      status: 500,
                      code: unknown_error
                      title: "Unknown error"
  /api/v3/decision_reviews/higher_level_reviews/{uuid}:
    get:
      tags:
        - Higher-Level Reviews
      parameters:
        - name: uuid
          in: path
          required: true
          description: UUID of a Higher-Level Review
          example: cc165d4f-1e16-4bcf-9134-4f864c121c97
          schema:
            type : string
            format: uuid
            pattern: '^[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}$'
      summary: Details of the Higher-Level Review
      description: This endpoint returns the details of a specific Higher-Level Review. This endpoint is also referred to as the Show endpoint.
      responses:
        '200':
          description: JSONAPI response detailing the specific Higher-Level Review
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        pattern: '^[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}$'
                      type:
                        type: string
                        enum: ["HigherLevelReview"]
                        description: Will be "HigherLevelReview"
                      attributes:
                        type: object
                        properties:
                          status:
                            type: string
                          aoj:
                            type: string
                            nullable: true
                          programArea:
                            type: string
                          benefitType:
                            $ref: "#/components/schemas/BenefitType"
                          description:
                            type: string
                            nullable: true
                          receiptDate:
                            type: string
                            format: date
                            nullable: true
                          informalConference:
                            type: boolean
                            nullable: true
                          sameOffice:
                            type: boolean
                            nullable: true
                          legacyOptInApproved:
                            type: boolean
                            nullable: true
                          alerts:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  $ref: "#/components/schemas/HigherLevelReviewAlerts"
                                details:
                                  type: object
                                  properties:
                                    decisionDate:
                                      type: string
                                      format: date
                                      nullable: true
                                    availableOptions:
                                      type: array
                                      items:
                                        type: string
                                    dueDate:
                                      type: string
                                      format: date
                                      nullable: true
                          events:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  $ref: "#/components/schemas/HigherLevelReviewEvents"
                                date:
                                  type: string
                                  format: date
                      relationships:
                        type: object
                        properties:
                          veteran:
                            type: object
                            properties:
                              data:
                                type: object
                                properties:
                                  type:
                                    type: string
                                    enum: ["Veteran"]
                                  id:
                                    type: string # file_number
                          claimant:
                            type: object
                            properties:
                              data:
                                type: object
                                properties:
                                  type:
                                    type: string
                                    enum: ["Claimant"]
                                  id:
                                    type: string # participant id
                          requestIssues:
                            type: object
                            properties:
                              data:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      enum: ["RequestIssue"]
                                    id:
                                      type: string
                          decisionIssues:
                            type: object
                            properties:
                              data:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      enum: ["DecisionIssue"]
                                    id:
                                      type: string
                  included:
                    type: array
                    description: Includes data for the Veteran, RequestIssues, and DecisionIssues.  When applicable, it will include the Claimant as well.
                    items:
                      anyOf:
                        - type: object
                          properties:
                            type:
                              type: string
                              enum: ["Veteran"]
                            id:
                              type: string
                              description: matches fileNumber
                            attributes:
                              type: object
                              properties:
                                firstName:
                                  type: string
                                  nullable: true
                                middleName:
                                  type: string
                                  nullable: true
                                lastName:
                                  type: string
                                  nullable: true
                                nameSuffix:
                                  type: string
                                  nullable: true
                                fileNumber:
                                  type: string
                                ssn:
                                  type: string
                                  nullable: true
                                participantId:
                                  type: string
                                  nullable: true
                        - type: object
                          properties:
                            type:
                              type: string
                              enum: ["Claimant"]
                            id:
                              type: string
                            attributes:
                              type: object
                              properties:
                                firstName:
                                  type: string
                                  nullable: true
                                middleName:
                                  type: string
                                  nullable: true
                                lastName:
                                  type: string
                                  nullable: true
                                payeeCode:
                                  allOf:
                                    - $ref: "#/components/schemas/PayeeCode"
                                    - nullable: true
                                relationshipType:
                                  type: string
                                  nullable: true
                        - type: object
                          properties:
                            type:
                              type: string
                              enum: ["DecisionIssue"]
                            id:
                              type: string
                            attributes:
                              type: object
                              properties:
                                approxDecisionDate:
                                  type: string
                                  format: date
                                  nullable: true
                                decisionText:
                                  type: string
                                  nullable: true
                                description:
                                  type: string
                                disposition:
                                  type: string
                                  nullable: true
                                finalized:
                                  type: boolean
                        - type: object
                          properties:
                            type:
                              type: string
                              enum: ["RequestIssue"]
                            id:
                              type: string
                            attributes:
                              type: object
                              properties:
                                active:
                                  type: boolean
                                statusDescription:
                                  type: string
                                diagnosticCode:
                                  type: string
                                  nullable: true
                                ratingIssueReferenceId:
                                  type: string
                                  nullable: true
                                ratingIssueProfileDate:
                                  type: string
                                  format: date
                                  nullable: true
                                ratingDecisionReferenceId:
                                  type: string
                                  nullable: true
                                description:
                                  type: string
                                  nullable: true
                                contentionText:
                                  type: string
                                approxDecisionDate:
                                  type: string
                                  format: date
                                category:
                                  type: string
                                  nullable: true
                                notes:
                                  type: string
                                  nullable: true
                                isUnidentified:
                                  type: boolean
                                  nullable: true
                                rampClaimId:
                                  type: string
                                  nullable: true
                                decisionReviewTitle:
                                  type: string
                                  nullable: true
                                decisionIssueId: # contested_decision_issue_id
                                  type: integer
                                  nullable: true
                                withdrawalDate:
                                  type: string
                                  format: date
                                  nullable: true
                                contestedIssueDescription:
                                  type: string
                                  nullable: true
                                endProductCleared:
                                  type: boolean
                                  nullable: true
                                endProductCode:
                                  type: string
                                ineligible:
                                  type: object
                                  nullable: true
                                  description: This is null when the issue is eligible.  When it's ineligible, this object is populated with ineligibility information.
                                  properties:
                                    dueToId:
                                      type: integer
                                    reason:
                                      type: string
                                    titleOfActiveReview:
                                      type: string

        '404':
          description: ID not found
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
        '5XX':
          description: Failed
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
  /api/v3/decision_reviews/contestable_issues:
    get:
      tags:
        - Issues
      parameters:
        - name: X-VA-SSN
          in: header
          description: The SSN of the veteran. Either SSN or file number must be passed.
          schema:
            type : string
        - name: X-VA-File-Number
          in: header
          description: The file number of the veteran. Either SSN or file number must be passed.
          schema:
            type: string
        - name: X-VA-Receipt-Date
          in: header
          required: true
          description: (yyyy-mm-dd) In order to determine contestability of issues, the receipt date of a hypothetical Decision Review must be supplied.
          example: '2000-01-01'
          schema:
            type: string
            format: date
      servers:
        - url: /api/v3/decision_reviews/higher_level_reviews/
        - url: /api/v3/decision_reviews/supplemental_claims/
        - url: /api/v3/decision_reviews/appeals/
      summary: Returns all contestable issues for a specific veteran.
      description: >-
        Returns all issues a Veteran could contest in a Decision Review
        as of the `receiptDate`.  Associate these results when creating
        new Decision Reviews.
      responses:
        '200':
          description: JSON:API response returning all contestable issues for a specific veteran.
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      description: "A contestable issue (to contest this, you include it as a RequestIssue when creating a HigherLevelReview, SupplementalClaim, or Appeal)"
                      properties:
                        type:
                          type: string
                          enum: ["ContestableIssue"]
                        attributes:
                          type: object
                          properties:
                            ratingIssueReferenceId:
                              type: string
                              nullable: true
                              description: "RatingIssue ID"
                            ratingIssueProfileDate:
                              type: string
                              nullable: true
                              format: date
                              description: "(yyyy-mm-dd) RatingIssue profile date"
                            ratingIssueDiagnosticCode:
                              type: string
                              nullable: true
                              description: "RatingIssue diagnostic code"
                            ratingDecisionReferenceId:
                              type: string
                              nullable: true
                              description: "The BGS ID for the contested rating decision. This may be populated while ratingIssueId is nil"
                            decisionIssueId:
                              type: integer
                              nullable: true
                              description: "DecisionIssue ID"
                            approxDecisionDate:
                              type: string
                              nullable: true
                              format: date
                              description: "(yyyy-mm-dd) Approximate decision date"
                            description:
                              type: string
                              nullable: true
                              description: "Description"
                            rampClaimId:
                              type: string
                              nullable: true
                              description: "RampClaim ID"
                            titleOfActiveReview:
                              type: string
                              nullable: true
                              description: "Title of DecisionReview that this issue is still active on"
                            sourceReviewType:
                              type: string
                              nullable: true
                              description: "The type of DecisionReview (HigherLevelReview, SupplementalClaim, Appeal) the issue was last decided on (if any)"
                            timely:
                              type: boolean
                              description: "An issue is timely if the receipt date is within 372 dates of the decision date."
                            latestIssuesInChain:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    nullable: true
                                  approxDecisionDate:
                                    type: string
                                    nullable: true
                                    format: date
                              description: "Shows the chain of decision and rating issues that preceded this issue. Only the most recent issue can be contested (the object itself that contains the latestIssuesInChain attribute)."
                            isRating:
                              type: boolean
                              description: "Whether or not this is a RatingIssue"
        '404':
          description: Veteran not found
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                bad file number or SSN:
                  value:
                    errors:
                      status: 404,
                      code: veteran_not_found
                      title: "Veteran not found"
        '422':
          description: Bad receipt date
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                bad receipt date:
                  value:
                    errors:
                      status: 422,
                      code: bad_receipt_date
                      title: "Bad receipt date"
        '500':
          description: Unknown error
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  errors:
                    $ref: "#/components/schemas/Errors"
              examples:
                unknown error:
                  value:
                    errors:
                      status: 500,
                      code: unknown_error
                      title: "Unknown error"
  /api/v3/issues/ama/find_by_veteran/{veteran_participant_id}:
    get:
      tags:
        - Request Issues
      parameters:
        - name: veteran_participant_id
          in: path
          required: true
          description: Veteran Participant ID
          example: 123456789
          schema:
            $ref: "#/components/schemas/VeteranParticipantId"
        - in: query
          name: page
          schema:
            type: integer
          description: The page of request issues for the supplied veteran. Positive greater than 0. 0 or negative numbers are defaulted to 1.
      summary: Retrieve all AMA request issues and associated decision issues from Veteran.
      description: >+
        Will return a paginated response of request issues and associated decision issue for the Veteran.
      responses:
        '200':
          description: 200 OK
          content:
            application/vnd.api+json:
              examples:
                veteran_returned_1_page:
                  value:
                    page: 1
                    total_number_of_pages: 1
                    total_request_issues_for_vet: 2
                    max_request_issues_per_page: 2
                    veteran_participant_id: "123456789"
                    legacy_appeals_present: true
                    request_issues:
                      - id: 1
                        benefit_type: compensation
                        closed_at: nil
                        closed_status: nil
                        contention_reference_id: 1
                        contested_decision_issue_id: 453
                        contested_issue_description: "I am rating decision issue 0"
                        contested_rating_decision_reference_id: nil
                        contested_rating_issue_diagnostic_code: "9999"
                        contested_rating_issue_profile_date: nil
                        contested_rating_issue_reference_id: nil
                        corrected_by_request_issue_id: 1
                        correction_type: nil
                        created_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                        decision_date: Thu, 21 Sep 2023
                        decision_review_id: 2237
                        decision_review_type: "Appeal"
                        edited_description: nil
                        end_product_establishment_id: 1
                        ineligible_due_to_id: 1
                        ineligible_reason: nil
                        is_unidentified: false
                        nonrating_issue_bgs_id: nil
                        nonrating_issue_category: nil
                        nonrating_issue_description: nil
                        notes: nil
                        ramp_claim_id: nil
                        split_issue_status: nil
                        unidentified_issue_text: nil
                        untimely_exemption: false
                        untimely_exemption_notes: nil
                        updated_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                        vacols_id: nil
                        vacols_sequence_id: 1234
                        verified_unidentified_issue: false
                        veteran_participant_id: "574727684"
                        caseflow_considers_decision_review_active: true
                        caseflow_considers_issue_active: true
                        caseflow_considers_title_of_active_review: "some title"
                        caseflow_considers_eligible: true
                        claimant_participant_id: "123456789"
                        decision_issues:
                          - id: 457
                            caseflow_decision_date: Tue, 26 Sep 2023
                            created_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                            decision_text: nil
                            deleted_at: nil
                            description: "The decision: I am rating decision issue 0 has been vacated."
                            diagnostic_code: nil
                            disposition: "vacated"
                            end_product_last_action_date: nil
                            percent_number: nil
                            rating_issue_reference_id: nil
                            rating_profile_date: nil
                            rating_promulgation_date: nil
                            subject_text: nil
                            updated_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                      - id: 2
                        benefit_type: compensation
                        closed_at: nil
                        closed_status: nil
                        contention_reference_id: 1
                        contested_decision_issue_id: 453
                        contested_issue_description: "I am rating decision issue 0"
                        contested_rating_decision_reference_id: nil
                        contested_rating_issue_diagnostic_code: "9999"
                        contested_rating_issue_profile_date: nil
                        contested_rating_issue_reference_id: nil
                        corrected_by_request_issue_id: 1
                        correction_type: nil
                        created_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                        decision_date: Thu, 21 Sep 2023
                        decision_review_id: 2237
                        decision_review_type: "Appeal"
                        edited_description: nil
                        end_product_establishment_id: 1
                        ineligible_due_to_id: 1
                        ineligible_reason: nil
                        is_unidentified: false
                        nonrating_issue_bgs_id: nil
                        nonrating_issue_category: nil
                        nonrating_issue_description: nil
                        notes: nil
                        ramp_claim_id: nil
                        split_issue_status: nil
                        unidentified_issue_text: nil
                        untimely_exemption: false
                        untimely_exemption_notes: nil
                        updated_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                        vacols_id: nil
                        vacols_sequence_id: 1234
                        verified_unidentified_issue: false
                        veteran_participant_id: "574727684"
                        caseflow_considers_decision_review_active: true
                        caseflow_considers_issue_active: true
                        caseflow_considers_title_of_active_review: "some title"
                        caseflow_considers_eligible: true
                        claimant_participant_id: "123456789"
                        decision_issues:
                          -
                veteran_returned_2_pages:
                  value:
                    page: 2
                    total_number_of_pages: 2
                    total_request_issues_for_vet: 3
                    max_request_issues_per_page: 2
                    veteran_participant_id: "123456789"
                    legacy_appeals_present: true,
                    request_issues:
                      - id: 1
                        benefit_type: compensation
                        closed_at: nil
                        closed_status: nil
                        contention_reference_id: 1
                        contested_decision_issue_id: 453
                        contested_issue_description: "I am rating decision issue 0"
                        contested_rating_decision_reference_id: nil
                        contested_rating_issue_diagnostic_code: "9999"
                        contested_rating_issue_profile_date: nil
                        contested_rating_issue_reference_id: nil
                        corrected_by_request_issue_id: 1
                        correction_type: nil
                        created_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                        decision_date: Thu, 21 Sep 2023
                        decision_review_id: 2237
                        decision_review_type: "Appeal"
                        edited_description: nil
                        end_product_establishment_id: 1
                        ineligible_due_to_id: 1
                        ineligible_reason: nil
                        is_unidentified: false
                        nonrating_issue_bgs_id: nil
                        nonrating_issue_category: nil
                        nonrating_issue_description: nil
                        notes: nil
                        ramp_claim_id: nil
                        split_issue_status: nil
                        unidentified_issue_text: nil
                        untimely_exemption: false
                        untimely_exemption_notes: nil
                        updated_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                        vacols_id: nil
                        vacols_sequence_id: 1234
                        verified_unidentified_issue: false
                        veteran_participant_id: "574727684"
                        caseflow_considers_decision_review_active: true
                        caseflow_considers_issue_active: true
                        caseflow_considers_title_of_active_review: "some title"
                        caseflow_considers_eligible: true
                        claimant_participant_id: "111111"
                        decision_issues:
                          - id: 457
                            caseflow_decision_date: Tue, 26 Sep 2023
                            created_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                            decision_text: nil
                            deleted_at: nil
                            description: "The decision: I am rating decision issue 0 has been vacated."
                            diagnostic_code: nil
                            disposition: "vacated"
                            end_product_last_action_date: nil
                            percent_number: nil
                            rating_issue_reference_id: nil
                            rating_profile_date: nil
                            rating_promulgation_date: nil
                            subject_text: nil
                            updated_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                veteran_returned_no_legacy:
                  value:
                    data:
                      page: 1
                      total_number_of_pages: 2
                      total_request_issues_for_vet: 3
                      max_request_issues_per_page: 2
                      veteran_participant_id: 123456789
                      legacy_appeals_present: false,
                      request_issues:
                        - id: 1
                          benefit_type: compensation
                          closed_at: nil
                          closed_status: nil
                          contention_reference_id: 1
                          contested_decision_issue_id: 453
                          contested_issue_description: "I am rating decision issue 0"
                          contested_rating_decision_reference_id: nil
                          contested_rating_issue_diagnostic_code: "9999"
                          contested_rating_issue_profile_date: nil
                          contested_rating_issue_reference_id: nil
                          corrected_by_request_issue_id: 1
                          correction_type: nil
                          created_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                          decision_date: Thu, 21 Sep 2023
                          decision_review_id: 2237
                          decision_review_type: "Appeal"
                          edited_description: nil
                          end_product_establishment_id: 1
                          ineligible_due_to_id: 1
                          ineligible_reason: nil
                          is_unidentified: false
                          nonrating_issue_bgs_id: nil
                          nonrating_issue_category: nil
                          nonrating_issue_description: nil
                          notes: nil
                          ramp_claim_id: nil
                          split_issue_status: nil
                          unidentified_issue_text: nil
                          untimely_exemption: false
                          untimely_exemption_notes: nil
                          updated_at: Tue, 26 Sep 2023 16:54:17 UTC +00:00
                          vacols_id: nil
                          vacols_sequence_id: 1234
                          verified_unidentified_issue: false
                          veteran_participant_id: "574727684"
                          caseflow_considers_status_active: true
                          caseflow_considers_issue_active: true
                          caseflow_considers_title_of_active_review: "some title"
                          caseflow_considers_eligible: true
                          claimant_participant_id: "111111"
                          decision_issues:
                            -
        '401':
          description: 401 Unauthorized
          content:
            application/vnd.api+json:
              examples:
                invalid_api_key:
                  value:
                    status: unauthorized
                missing_api_key:
                  value:
                    status: unauthorized
        '404':
          description: 404 Veteran not found
          content:
            application/vnd.api+json:
              examples:
                not_implemented:
                  value:
                    errors:
                    - status: 404
                      code: "veteran_not_found"
                      detail: "No Veteran found for the given identifier."
        '500':
          description: 500 Unexpected Error
          content:
            application/vnd.api+json:
              examples:
                not_implemented:
                  value:
                    errors:
                    - status: 500
                      code: "Unknown error occured"
                      detail: "Message: There was a server error. Use the error uuid to submit a support ticket: {id}"
        '501':
          description: 501 Not Implemented
          content:
            application/vnd.api+json:
              examples:
                not_implemented:
                  value:
                    -
                      status: 501
                      title: "Not Implemented"
                      detail: "This endpoint is not yet supported."
  /api/v3/issues/find_by_veteran:
    get:
      tags:
        - VACOLS Issues
      parameters:
        - in: query
          name: page
          schema:
            type: integer
          description: The page of request issues for the supplied veteran. Positive greater than 0. 0 or negative numbers are defaulted to 1.
      summary: Retrieve all VACOLS issues from Veteran.
      description: >+
        Will return a paginated response of VACOLS Issues for the Veteran.
      responses:
        '200':
          description: 200 OK
          content:
            application/vnd.api+json:
              examples:
                veteran_returned_1_page:
                  value:
                    page: 1
                    total_number_of_pages: 1
                    total_vacols_issues_for_vet: 6
                    max_vacols_issues_per_page: 10
                    veteran_participant_id: '1826209'
                    veteran_file_number: '872958715'
                    vacols_issues:
                      - id: '2760964'
                        notice_of_disagreement_date: '2019-03-09T00:00:00.000Z'
                        legacy_appeal_status: Remand
                        legacy_appeal_soc_date: '2019-12-25T00:00:00.000Z'
                        legacy_appeal_ssoc_dates:
                          - '2023-01-31T00:00:00.000Z'
                        legacy_appeal_eligible_for_opt_in: false
                        legacy_appeal_eligible_for_soc_opt_in_with_exemption: true
                        vacols_id: '2760964'
                        vacols_sequence_id: 1
                        eligible_for_soc_opt_in: true
                        eligible_for_soc_opt_in_with_exemption: true
                        description: Service connection, pancreatitis
                        disposition: remanded
                        close_date: '2023-06-16T00:00:00.000Z'
                        note: Itaque adipisci aut ullam voluptas recusandae possimus facilis.
                      - id: LEGACYID
                        notice_of_disagreement_date: '2022-09-18T00:00:00.000Z'
                        legacy_appeal_status: Advance
                        legacy_appeal_soc_date: '2023-03-18T00:00:00.000Z'
                        legacy_appeal_ssoc_dates: []
                        legacy_appeal_eligible_for_opt_in: false
                        legacy_appeal_eligible_for_soc_opt_in_with_exemption: true
                        vacols_id: LEGACYID
                        vacols_sequence_id: 1
                        eligible_for_soc_opt_in: true
                        eligible_for_soc_opt_in_with_exemption: true
                        description: New and material evidence to reopen claim for service connection, ankylosing spondylitis
                        disposition: null
                        close_date: null
                        note: null
                      - id: LEGACYID
                        notice_of_disagreement_date: '2022-09-18T00:00:00.000Z'
                        legacy_appeal_status: Advance
                        legacy_appeal_soc_date: '2023-03-18T00:00:00.000Z'
                        legacy_appeal_ssoc_dates: []
                        legacy_appeal_eligible_for_opt_in: false
                        legacy_appeal_eligible_for_soc_opt_in_with_exemption: true
                        vacols_id: LEGACYID
                        vacols_sequence_id: 2
                        eligible_for_soc_opt_in: true
                        eligible_for_soc_opt_in_with_exemption: true
                        description: New and material evidence to reopen claim for service connection, spinal fusion
                        disposition: null
                        close_date: null
                        note: null
                      - id: LEGACYID
                        notice_of_disagreement_date: '2022-09-18T00:00:00.000Z'
                        legacy_appeal_status: Advance
                        legacy_appeal_soc_date: '2023-03-18T00:00:00.000Z'
                        legacy_appeal_ssoc_dates: []
                        legacy_appeal_eligible_for_opt_in: false
                        legacy_appeal_eligible_for_soc_opt_in_with_exemption: true
                        vacols_id: LEGACYID
                        vacols_sequence_id: 3
                        eligible_for_soc_opt_in: true
                        eligible_for_soc_opt_in_with_exemption: true
                        description: New and material evidence to reopen claim for service connection, degenerative arthritis of the spine
                        disposition: null
                        close_date: null
                        note: null
                      - id: LEGACYID
                        notice_of_disagreement_date: '2022-09-18T00:00:00.000Z'
                        legacy_appeal_status: Advance
                        legacy_appeal_soc_date: '2023-03-18T00:00:00.000Z'
                        legacy_appeal_ssoc_dates: []
                        legacy_appeal_eligible_for_opt_in: false
                        legacy_appeal_eligible_for_soc_opt_in_with_exemption: true
                        vacols_id: LEGACYID
                        vacols_sequence_id: 4
                        eligible_for_soc_opt_in: true
                        eligible_for_soc_opt_in_with_exemption: true
                        description: New and material evidence to reopen claim for service connection, intervertebral disc syndrome
                        disposition: null
                        close_date: null
                        note: null
                      - id: LEGACYID
                        notice_of_disagreement_date: '2022-09-18T00:00:00.000Z'
                        legacy_appeal_status: Advance
                        legacy_appeal_soc_date: '2023-03-18T00:00:00.000Z'
                        legacy_appeal_ssoc_dates: []
                        legacy_appeal_eligible_for_opt_in: false
                        legacy_appeal_eligible_for_soc_opt_in_with_exemption: true
                        vacols_id: LEGACYID
                        vacols_sequence_id: 5
                        eligible_for_soc_opt_in: true
                        eligible_for_soc_opt_in_with_exemption: true
                        description: New and material evidence to reopen claim for service connection, ankylosis of hip
                        disposition: null
                        close_date: null
                        note: null
        '401':
          description: 401 Unauthorized
          content:
            application/vnd.api+json:
              examples:
                invalid_api_key:
                  value:
                    status: unauthorized
                missing_api_key:
                  value:
                    status: unauthorized
        '404':
          description: 404 Veteran not found
          content:
            application/vnd.api+json:
              examples:
                not_implemented:
                  value:
                    errors:
                    - status: 404
                      code: "veteran_not_found"
                      detail: "No Veteran found for the given identifier."
        '500':
          description: 500 Unexpected Error
          content:
            application/vnd.api+json:
              examples:
                not_implemented:
                  value:
                    errors:
                    - status: 500
                      code: "Unknown error occured"
                      detail: "Message: There was a server error. Use the error uuid to submit a support ticket: {id}"
        '501':
          description: 501 Not Implemented
          content:
            application/vnd.api+json:
              examples:
                not_implemented:
                  value:
                    -
                      status: 501
                      title: "Not Implemented"
                      detail: "This endpoint is not yet supported."
components:
  schemas:
    Uuid:
      type: string
      format: uuid
      pattern: '^[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}$'
    BenefitType:
      type: string
      enum:
        - compensation
        - compensation_all
        - pension
        - fiduciary
        - insurance
        - education
        - voc_rehab
        - loan_guaranty
        - vha
        - nca
    HigherLevelReviewAlerts:
      type: string
      enum: ["AmaPostDecision"]
    HigherLevelReviewEvents:
      type: string
      enum:
        - hlr_request_event
        - hlr_decision_event
        - hlr_dta_error_event
        - dta_decision_event
        - hlr_other_close_event
    HigherLevelReviewStatusTypes:
      type: string
      enum:
        - hlr_received
        - hlr_dta_error
        - hlr_decision
        - hlr_closed
    NonratingIssueCategory:
      type: string
      enum:
        # for benefit type:  compensation_all
        - Unknown Issue Category
        - Incarceration Adjustments
        - Audit Error Worksheet (DFAS)
        - Active Duty Adjustments
        - Drill Pay Adjustments
        - Character of Discharge Determinations
        - Contested Claims - Apportionment
        - Contested Claims - Attorney Fees
        - Contested Claims - Dependents Indemnity Compensation (DIC)
        - Contested Claims - Insurance
        - Contested Claims - Loan Guaranty (LGY)
        - Contested Claims - Veteran Death
        - Income/Net Worth (Pension)
        - Dependent Child - Adopted
        - Dependent Child - Stepchild
        - Dependent Child - Biological
        - Dependency Spouse - Common Law Marriage
        - Dependency Spouse - Inference of Marriage
        - Dependency Spouse - Deemed Valid Marriage
        - Military Retired Pay
        - Contested Claims (Other than Apportionment)
        - Lack of Qualifying Service
        - Other Non-Rated
        # for benefit type:  compensation
        - Unknown Issue Category
        - Apportionment
        - Incarceration Adjustments
        - Audit Error Worksheet (DFAS)
        - Active Duty Adjustments
        - Drill Pay Adjustments
        - Character of Discharge Determinations
        - Income/Net Worth (Pension)
        - Dependent Child - Adopted
        - Dependent Child - Stepchild
        - Dependent Child - Biological
        - Dependency Spouse - Common Law Marriage
        - Dependency Spouse - Inference of Marriage
        - Dependency Spouse - Deemed Valid Marriage
        - Military Retired Pay
        - Lack of Qualifying Service
        - DIC
        - SC Death
        - Accrued Benefits
        - Other Non-Rated
        # for benefit type:  pension
        - Eligibility | Wartime Service
        - Eligibility | Veteran Status
        - Income/Net Worth | Countable Income
        - Income/Net Worth | Residential Lot Size
        - Income/Net Worth | Medical Expense Deductions
        - Effective Date | Liberalizing Legislation
        - Effective Date | 3.400(b)(ii)(B)
        - Dependent Eligibility | Adoption
        - Dependent Eligibility | Stepchild
        - Dependent Eligibility | School Child
        - Dependent Eligibility | Validity of Marriage
        - Dependent Eligibility | Parent(s)
        - Dependent Eligibility | Other
        - Penalty Period
        - Post Award Audit
        - Overpayment | Existence and amount
        - Overpayment | Waiver
        - Apportionment
        - Survivor's Pension Eligibility
        - Burial Benefits - NSC Burial
        - Burial Benefits - Plot or Interment Allowance
        - Burial Benefits - Transportation Allowance
        - Burial Benefits - VA Hospitalization Death
        - NSC Live Pension
        - Survivor's Pension
        - Accrued Benefits
        # for benefit type:  fiduciary
        - Appointment of a Fiduciary (38 CFR 13.100)
        - Removal of a Fiduciary (38 CFR 13.500)
        - Misuse Determination (38 CFR 13.400)
        - RO Director Reconsideration of Misuse Determination (13.400(d))
        - P&F Director's Negligence Determination for Benefits Reissuance (13.410)
        # for benefit type:  voc_rehab
        - Basic Eligibility
        - Entitlement to Services
        - Plan/Goal Selection
        - Equipment/Supply Purchases
        - Additional Training
        - Change of Program
        - Feasibility to Pursue a Vocational Goal
        - Training Facility Selection
        - Subsistence Allowance
        - Employment Adjustment Allowance
        - Entitlement Extension
        - Advance from the Revolving Fund Loan
        - Retroactive Induction
        - Retroactive Reimbursement
        - Successful Closure of Case
        - Discontinue Services
        - Interruption of Services
        # for benefit type:  education
        - Accrued
        - Eligibility | 38 U.S.C. ch. 30
        - Eligibility | 38 U.S.C. ch. 35
        - Eligibility | 38 U.S.C. ch. 32
        - Eligibility | 38 U.S.C. ch. 33
        - Eligibility | 38 U.S.C. ch. 1606
        - Entitlement | 38 U.S.C. ch. 30
        - Entitlement | 38 U.S.C. ch. 35
        - Entitlement | 38 U.S.C. ch. 32
        - Entitlement | 38 U.S.C. ch. 33
        - Entitlement | 38 U.S.C. ch. 1606
        - Effective Date of Award | 38 U.S.C. ch. 35
        - Payment | 38 U.S.C. ch. 30
        - Payment | 38 U.S.C. ch. 35
        - Payment | 38 U.S.C. ch. 32
        - Payment | 38 U.S.C. ch. 33
        - Payment | 38 U.S.C. ch. 1606
        - Overpayment | Existence and amount
        - Vet Tec
        - Delimiting Date Issues | 38 U.S.C. ch. 30
        - Delimiting Date Issues | 38 U.S.C. ch. 35
        - Delimiting Date Issues | 38 U.S.C. ch. 32
        - Delimiting Date Issues | 38 U.S.C. ch. 33
        - Delimiting Date Issues | 38 U.S.C. ch. 1606
        - Other
        # for benefit type:  insurance
        - Waiver of Premiums (1912-1914) | Date of Total Disability
        - Waiver of Premiums (1912-1914) | Effective Date
        - Waiver of Premiums (1912-1914) | TDIP (1915)
        - Waiver of Premiums (1912-1914) | Other
        - Reinstatement | Medically Qualified
        - Reinstatement | Other
        - RH (1922(a) S-DVI) | Timely Application
        - RH (1922(a) S-DVI) | Medically Qualified
        - RH (1922(a) S-DVI) | Discharged before 4/25/51
        - RH (1922(a) S-DVI) | Other
        - SRH (1922(b) S-DVI) | Timely Application
        - SRH (1922(b) S-DVI) | Over age 65
        - SRH (1922(b) S-DVI) | Other
        - VMLI (2106) | LOC/Reverse Mortgage
        - VMLI (2106) | Over age 70
        - VMLI (2106) | Death Award
        - VMLI (2106) | Other
        - Contested Death Claim | Relationships
        - Contested Death Claim | Testamentary Capacity
        - Contested Death Claim | Undue Influence
        - Contested Death Claim | Intent of Insured
        - Contested Death Claim | Other
        - Other
        # for benefit type:  loan_guaranty
        - Basic Eligibility - Certificate of Eligibility (COE) was denied for use of benefit
        - Existence and amount - Existing debt indicated from loan termination is incorrect as stated
        - Waiver of Indebtedness - Existing debt should be waived to allow issuance of COE
        - Restoration of Entitlement - Remove a previous loan that was paid-in-full to allow all available entitlement on the COE
        - Other
        # for benefit type:  nca
        - Entitlement | Reserves/National Guard
        - Entitlement | Less than 24 Months
        - Entitlement | Character of Service
        - Entitlement | Merchant Marine
        - Entitlement | No Military Information
        - Entitlement | Cadet (Service Academies)
        - Entitlement | Unmarried Adult Child
        - Entitlement | Allied Forces and Non-Citizens
        - Entitlement | Pre-Need
        - Entitlement | Spouse/Surving Spouse
        - Entitlement | Non-Qualifying Service
        - Entitlement | ABMC/Overseas Burial
        - Entitlement | Pre-WWI/Burial Site Unknown
        - Entitlement | Marked Grave (Death prior to 10-18-78)
        - Entitlement | Marked Grave (Death on/after 10-18-78 to 10-31-90)
        - Entitlement | Other
        - Entitlement | Voided Enlistment
        - Entitlement | Benefit Already Provided
        - Entitlement | Confederate IMO
        - Entitlement | Cremains Not Interred
        - Entitlement | Historic Marker Deemed Serviceable
        - Entitlement | Medallion (No Grave)
        - Entitlement | Medallion (Unmarked Grave)
        - Entitlement | Parent
        - Entitlement | Replacement
        - Entitlement | Unauthorized Applicant
        - Entitlement | Hmong
        - Entitlement | Medallion (Monetary Allowance)
        - Entitlement | IMO in NC
        # for benefit type:  vha
        - Caregiver | Eligibility
        - Caregiver | Tier Level
        - Caregiver | Revocation/Discharge
        - Caregiver | Other
        - Beneficiary Travel
        - Clothing Allowance
        - Medical and Dental Care Reimbursement
        - Initial Eligibility and Enrollment in VHA Healthcare
        - Eligibility for Dental Treatment
        - CHAMPVA
        - Camp Lejune Family Member
        - Foreign Medical Program
        - Spina Bifida Treatment (Non-Compensation)
        - Continuing Eligibility/Income Verification Match (IVM)
        - Prosthetics | Other (not clothing allowance)
        - Other
    PayeeCode:
      type: string
      enum:
        - "00"
        - "01"
        - "02"
        - "03"
        - "04"
        - "05"
        - "06"
        - "07"
        - "08"
        - "09"
        - "10"
        - "11"
        - "12"
        - "13"
        - "14"
        - "15"
        - "16"
        - "17"
        - "18"
        - "19"
        - "20"
        - "21"
        - "22"
        - "23"
        - "24"
        - "25"
        - "26"
        - "27"
        - "28"
        - "29"
        - "30"
        - "31"
        - "32"
        - "33"
        - "34"
        - "35"
        - "36"
        - "37"
        - "38"
        - "39"
        - "41"
        - "42"
        - "43"
        - "44"
        - "45"
        - "46"
        - "47"
        - "48"
        - "49"
        - "50"
        - "60"
        - "70"
        - "71"
        - "72"
        - "73"
        - "74"
        - "75"
        - "76"
        - "77"
        - "78"
        - "80"
        - "81"
        - "82"
        - "83"
        - "84"
        - "85"
        - "86"
        - "87"
        - "88"
        - "89"
        - "99"
    Errors:
      type: array
      items:
        type: object
        properties:
          title:
            type: string
          detail:
            type: string
    IntakeStatus:
      description: An accepted Decision Review still needs to be processed before the Decision Review can be accessed
      type: object
      properties:
        data:
          type: object
          properties:
            id:
              type: string
            type:
              type: string
              description: Will be "IntakeStatus"
            attributes:
              type: object
              properties:
                status:
                  type: string
                  enum:
                    - processed
                    - canceled
                    - attempted
                    - submitted
                    - not_yet_submitted
                  description: >
                    * `not_yet_submitted` - The DecisionReview has not been submitted yet.
                    * `submitted` - The DecisionReview is in the queue to be attempted.
                    * `attempted` - Processing of the DecisionReview is being attempted.
                    * `canceled` - The DecisionReview has been successfully canceled.
                    * `processed` - The DecisionReview has been processed and transmitted to the appropriate government agency.
    VeteranParticipantId:
      type: string
    RequestIssue:
      description: An AMA request issue linked with a veteran.
      type: object
      properties:
        data:
          type: object
          properties:
            id:
              type: integer
              description: "The unique identifier for a request issue"
            benefit_type:
              type: string
              description: "The Line of Business the issue is connected with."
            closed_at:
              type: string
              description: "Timestamp when the request issue was closed. The reason it was closed is in closed_status."
            closed_status:
              type: string
              description: "Indicates whether the request issue is closed, for example if it was removed from a Decision Review, the associated End Product got canceled, the Decision Review was withdrawn."
            contention_reference_id:
              type: integer
              description: "The ID of the contention created on the End Product for this request issue. This is populated after the contention is created in VBMS."
            contested_decision_issue_id:
              type: integer
              description: "The ID of the decision issue that this request issue contests. A Request issue will contest either a rating issue or a decision issue."
            contested_issue_description:
              type: string
              description: "Description of the contested rating or decision issue. Will be either a rating issue's decision text or a decision issue's description."
            contested_rating_decision_reference_id:
              type: string
              description: "The BGS id for contested rating decisions. These may not have corresponding contested_rating_issue_reference_id values."
            contested_rating_issue_diagnostic_code:
              type: string
              description: "If the contested issue is a rating issue, this is the rating issue's diagnostic code. Will be nil if this request issue contests a decision issue."
            contested_rating_issue_profile_date:
              type: string
              description: "If the contested issue is a rating issue, this is the rating issue's profile date. Will be nil if this request issue contests a decision issue."
            contested_rating_issue_reference_id:
              type: string
              description: "If the contested issue is a rating issue, this is the rating issue's reference id. Will be nil if this request issue contests a decision issue."
            corrected_by_request_issue_id:
              type: integer
              description: "If this request issue has been corrected, the ID of the new correction request issue. This is needed for EP 930."
            correction_type:
              type: string
              description: "EP 930 correction type. Allowed values: control, local_quality_error, national_quality_error where 'control' is a regular correction, 'local_quality_error' was found after the fact by a local quality review team, and 'national_quality_error' was similarly found by a national quality review team. This is needed for EP 930."
            created_at:
              type: string
              description: "The date and time the record was created"
            decision_date:
              type: string
              description: "Either the rating issue's promulgation date, the decision issue's approx decision date or the decision date entered by the user (for nonrating and unidentified issues)."
            decision_review_id:
              type: integer
              description: "ID of the decision review that this request issue belongs to"
            decision_review_type:
              type: string
              description: "Class name of the decision review that this request issue belongs to."
            edited_description:
              type: string
              description: "The edited description for the contested issue, optionally entered by the user."
            end_product_establishment_id:
              type: integer
              description: "Associated appeal EP claim_id (if C&P => higher level review or supp claim)"
            ineligible_due_to_id:
              type: integer
              description: "If a request issue is ineligible due to another request issue, for example that issue is already being actively reviewed, then the ID of the other request issue is stored here."
            ineligible_reason:
              type: string
              description: "The reason for a Request Issue being ineligible. If a Request Issue has an ineligible_reason, it is still captured, but it will not get a contention in VBMS or a decision."
            is_unidentified:
              type: boolean
              description: "Indicates whether a Request Issue is unidentified, meaning it wasn't found in the list of contestable issues, and is not a new nonrating issue. Contentions for unidentified issues are created on a rating End Product if processed in VBMS but without the issue description, and someone is required to edit it in Caseflow before proceeding with the decision."
            nonrating_issue_bgs_id:
              type: string
              description: "The ID of the nonrating request issue in BGS/CorpDB"
            nonrating_issue_category:
              type: string
              description: "The category selected for nonrating request issues. These vary by business line."
            nonrating_issue_description:
              type: string
              description: "The user entered description if the issue is a nonrating issue."
            notes:
              type: string
              description: "Notes added by the Claims Assistant when adding request issues. This may be used to capture handwritten notes on the form, or other comments the CA wants to capture."
            ramp_claim_id:
              type: string
              description: "If a rating issue was created as a result of an issue intaken for a RAMP Review, it will be connected to the former RAMP issue by its End Product's claim ID."
            split_issue_status:
              type: string
              description: "If a request issue is part of a split, on_hold status applies to the original request issues while active are request issues on splitted appeals."
            unidentified_issue_text:
              type: string
              description: "User entered description if the request issue is neither a rating or a nonrating issue."
            untimely_exemption:
              type: boolean
              description: "If the contested issue's decision date was more than a year before the receipt date, it is considered untimely (unless it is a Supplemental Claim). However, an exemption to the timeliness can be requested. If so, it is indicated here."
            untimely_exemption_notes:
              type: string
              description: "Notes related to the untimeliness exemption requested."
            updated_at:
              type: string
              description: "The date and time the record was updated"
            vacols_id:
              type: string
              description: "The vacols_id of the legacy appeal that had an issue found to match the request issue."
            vacols_sequence_id:
              type: integer
              description: "The vacols_sequence_id, for the specific issue on the legacy appeal which the Claims Assistant determined to match the request issue on the Decision Review. A combination of the vacols_id (for the legacy appeal), and vacols_sequence_id (for which issue on the legacy appeal), is required to identify the issue being opted-in."
            verified_unidentified_issue:
              type: boolean
              description: "A verified unidentified issue allows an issue whose rating data is missing to be intaken as a regular rating issue. In order to be marked as verified, a VSR needs to confirm that they were able to find the record of the decision for the issue."
            veteran_participant_id:
              type: string
              description: "The veteran participant ID. This should be unique in upstream systems and used in the future to reconcile duplicates."
            caseflow_considers_decision_review_active:
              type: boolean
              description: "This value is populated by a method call in the request_issue model. Returns true if the Request Issue's decision_review is an Appeal that has open tasks OR if the End Product Establishment's synced_status is nil or anything other than CAN or CLR."
            caseflow_considers_issue_active:
              type: boolean
              description: "This value is populated by a method call in the request_issue model. Is true when the issue is eligible, not closed, no split issue status or the split issue status is in_progress."
            caseflow_considers_title_of_active_review:
              type: string
              description: "This value is populated by a method call in the request_issue model. If the Request Issue is a duplicate of a request issue already being reviewed, the decision_review type will be listed here"
            caseflow_considers_eligible:
              type: boolean
              description: "This value is populated by a method call in the request_issue model. If the Request Issue has a value for ineligible_reason, this value will be false"
            claimant_participant_id:
              type: string
              description: "Participant ID of claimant."
    DecisionIssue:
      description: An AMA decision issue linked to a AMA request issue.
      type: object
      properties:
        data:
          type: object
          properties:
            id:
              type: integer
              description: "The ID of the record"
            caseflow_decision_date:
              type: string
              description: "This is a decision date for decision issues where decisions are entered in Caseflow, such as for appeals or for decision reviews with a business line that is not processed in VBMS."
            created_at:
              type: string
              description: "The date and time the record was created"
            decision_text:
              type: string
              description: "If decision resulted in a change to a rating, the rating issue's decision text."
            deleted_at:
              type: string
              description: "Time/date a soft delete occurred on the decision issue."
            description:
              type: string
              description: "Optional description that the user can input for decisions made in Caseflow."
            diagnostic_code:
              type: string
              description: "If a decision resulted in a rating, this is the rating issue's diagnostic code."
            disposition:
              type: string
              description: "The disposition for a decision issue. Dispositions made in Caseflow and dispositions made in VBMS can have different values."
            end_product_last_action_date:
              type: string
              description: "After an end product gets synced with a status of CLR (cleared), the end product's last_action_date is saved on any decision issues that are created as a result. This is used as a proxy for decision date for non-rating issues that are processed in VBMS because they don't have a rating profile date, and the exact decision date is not available."
            percent_number:
              type: string
              description: "percent_number from RatingIssue (prcntNo from Rating Profile)."
            rating_issue_reference_id:
              type: string
              description: "Identifies the specific issue on the rating that resulted from the decision issue (a rating issue can be connected to multiple contentions)."
            rating_profile_date:
              type: string
              description: "The profile date of the rating that a decision issue resulted in (if applicable). The profile_date is used as an identifier for the rating, and is the date that most closely maps to what the Veteran writes down as the decision date."
            rating_promulgation_date:
              type: string
              description: "The promulgation date of the rating that a decision issue resulted in (if applicable). It is used for calculating whether a decision issue is within the timeliness window to be appealed or get a higher level review."
            subject_text:
              type: string
              description: "subject_text from RatingIssue (subjctTxt from Rating Profile)."
            updated_at:
              type: string
              description: "The date and time the record was updated"
    VacolsIssue:
      description: Issues that are attached to a Legacy Appeal within VACOLS. There can be multiple VACOLS Issues attached to a Legacy Appeal. VACOLS Issues are eligible for AMA if they meet the Legacy Issue opt-in eligibility requirements
      type: object
      properties:
        data:
          type: object
          properties:
            id:
              type: integer
              description: "The unique identifier for an issue"
            notice_of_disagreement_date:
              type: string
              format: date
              description: "Receipt date of the appeal form. Used to determine which VACOLS issues are within the timeliness window to be appealed. Only VACOLS issues decided prior to the receipt date will show up as contestable issues."
            legacy_appeal_status:
              type: boolean
              description: "Indicates the status of the Legacy Appeal."
            legacy_appeal_soc_date:
              type: string
              format: date
              description: "Date/Time Statement of the Case Issued"
            legacy_appeal_ssoc_dates:
              type: array
              description: "Date/Time Supplemental Statement of the Cases Issued"
              items:
                type: string
                format: date
            legacy_appeal_eligible_for_opt_in:
              type: boolean
              description: "Indicates whether a Legacy Appeal is eligible to withdraw matching issues from the Legacy process."
            legacy_appeal_eligible_for_soc_opt_in_with_exemption:
              type: boolean
              description: "Indicates whether a Legacy Appeal is eligible to withdraw matching issues from the Legacy process due to an exemption."
            vacols_id:
              type: string
              description: "The VACOLS ID (primary key) of the Legacy appeal that the VACOLS issue is part of."
            vacols_sequence_id:
              type: integer
              description: "The sequence ID of the VACOLS issue on the legacy appeal. The vacols_id and vacols_sequence_id form a composite key to identify a specific VACOLS issue."
            issue_eligible_for_soc_opt_in:
              type: boolean
              description: "Indicates whether a VACOLS Issue is eligible to withdraw matching issues from the Legacy process."
            issue_eligible_for_soc_opt_in_with_exemption:
              type: boolean
              description:  "Indicates whether a VACOLS Issue is eligible to withdraw matching issues from the Legacy process due to an exemption."
            issue_close_date:
              type: string
              format: date
              description: "The date the VACOLS issue received a disposition."
            issue_description:
              type: string
              description: "The description for the VACOLS issue."
            issue_disposition:
              type: string
              description: "The disposition for each issue on the Legacy appeal. There are fourteen dispositions in total:  some controlled by BVA and others controlled by the field."
            issue_note:
              type: string
              description: "Notes added to the VACOLS Issue. This may be used to capture handwritten notes on the form, New Material or other comments."
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      description: API Key provided by Caseflow